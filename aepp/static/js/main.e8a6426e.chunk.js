(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{134:function(t,e){t.exports="data:image/png;base64,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"},135:function(t,e,n){t.exports=n(289)},140:function(t,e,n){},141:function(t,e,n){},157:function(t,e){},180:function(t,e){},182:function(t,e){},184:function(t,e){},246:function(t,e){},247:function(t,e){},289:function(t,e,n){"use strict";n.r(e);var o=n(0),a=n.n(o),r=n(42),i=n.n(r),c=(n(140),n(141),n(5)),d=n.n(c),s=n(19),l=n(13),u=n(14),p=n(16),A=n(15),f=n(133),m=n(8),b={ENTER:13,ESCAPE:27},g=function(t){Object(p.a)(n,t);var e=Object(A.a)(n);function n(){var t;Object(l.a)(this,n);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).getDataId=function(t){return t.target.getAttribute("data-id")},t.getDataTitle=function(t){return t.target.getAttribute("data-title")},t.onStateChange=function(){var e=Object(s.a)(d.a.mark(function e(n){var o,a,r,i;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.props.client,a=t.getDataId(n),r=n.target.checked,e.next=5,o.methods.edit_todo_state(a,r);case 5:i={id:parseInt(a),isCompleted:r},t.props.changeState(i);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),t.onTitleDoubleClick=function(e){var n=parseInt(t.getDataId(e)),o=t.getDataTitle(e);t.props.setEditable({id:n,isEditable:!0,title:o})},t.onTitleEdit=function(){var e=Object(s.a)(d.a.mark(function e(n){var o,a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=parseInt(t.getDataId(n)),a=n.target.value,t.props.changeToDoTitle({id:o,title:a});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),t.onTitleEditKeyDown=function(){var e=Object(s.a)(d.a.mark(function e(n){var o,a,r;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.keyCode!==b.ENTER&&n.keyCode!==b.ESCAPE){e.next=16;break}if(n.preventDefault(),o=parseInt(t.getDataId(n)),(a=n.target.value)&&""!==a.trim()){e.next=7;break}return alert("Invalid to-do title!"),e.abrupt("return");case 7:if(r={id:o,title:a,isEditable:!1},n.keyCode!==b.ENTER){e.next=15;break}return e.next=11,t.props.client.methods.edit_todo_name(o,a);case 11:e.sent,t.props.setEditable(r),e.next=16;break;case 15:n.keyCode===b.ESCAPE&&t.props.discardTitleChanges({id:o});case 16:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),t}return Object(u.a)(n,[{key:"render",value:function(){var t=this.props.todo;return a.a.createElement("li",{className:t.isCompleted?"todo completed":"todo"},a.a.createElement("div",{className:"view"},a.a.createElement("input",{className:"toggle",type:"checkbox","data-id":t.id,checked:t.isCompleted,onChange:this.onStateChange}),a.a.createElement("label",{className:t.editable?"hidden":"","data-id":t.id,"data-title":t.editable?t.editedTitle:t.title,onDoubleClick:this.onTitleDoubleClick,readOnly:!t.editable},t.title)),a.a.createElement("input",{className:t.editable?"":"hidden","data-id":t.id,value:t.editable?t.editedTitle:t.title,onChange:this.onTitleEdit,readOnly:!t.editable,autoFocus:t.editable,onKeyUp:this.onTitleEditKeyDown}))}}]),n}(o.Component),y=Object(m.b)(function(t){return t},function(t){return{changeState:function(e){t({type:"CHANGE_TODO_STATE",todo:e})},changeToDoTitle:function(e){t({type:"CHANGE_TODO_TITLE",todo:e})},setEditable:function(e){t({type:"SET_EDITABLE_TITLE",todo:e})},discardTitleChanges:function(e){t({type:"DISCARD_TITLE_CHANGES",todo:e})}}})(g),v=function(t){Object(p.a)(n,t);var e=Object(A.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var t=parseInt(this.props.visibility);return a.a.createElement("ul",{className:"todo-list"},this.props.todos.map(function(e){if(t===e.isCompleted||t<0)return a.a.createElement(y,{key:e.id,todo:e})}))}}]),n}(o.Component),C=Object(m.b)(function(t){return t})(v),E=n(20),h=n.n(E),T={ALL:-1,ACTIVE:0,COMPLETED:1},D=function(t){Object(p.a)(n,t);var e=Object(A.a)(n);function n(){var t;Object(l.a)(this,n);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).convertToTODO=function(t){return{title:t.name,isCompleted:t.is_completed?T.COMPLETED:T.ACTIVE,editable:!1,editedTitle:""}},t.addTodo=function(){var e=Object(s.a)(d.a.mark(function e(n){var o,a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.keyCode!==b.ENTER){e.next=12;break}if(n.preventDefault(),o=n.target.value,n.target.value="",o&&""!==o){e.next=7;break}return alert("Invalid to-do title!"),e.abrupt("return");case 7:return e.next=9,t.props.client.call("add_todo",[o]);case 9:a=e.sent,o={id:a.decodedResult,title:o},t.props.addTodo(o);case 12:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),t}return Object(u.a)(n,[{key:"getReverseWindow",value:function(){var t=Object(s.a)(d.a.mark(function t(){var e;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(e=document.createElement("iframe")).src=prompt("Enter wallet URL","http://localhost:8081"),e.style.display="none",document.body.appendChild(e),t.next=6,new Promise(function(t){window.addEventListener("message",function e(n){"ready"===n.data.method&&(window.removeEventListener("message",e),t())})});case 6:return t.abrupt("return",e.contentWindow);case 7:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()},{key:"getClient",value:function(){var t=Object(s.a)(d.a.mark(function t(){var e;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e=this.props.contractDetails,t.t0=f.Aepp,!this.runningInFrame){t.next=7;break}t.t1=window.parent,t.next=10;break;case 7:return t.next=9,this.getReverseWindow();case 9:t.t1=t.sent;case 10:return t.t2=t.t1,t.t3={parent:t.t2},t.next=14,(0,t.t0)(t.t3);case 14:return this.client=t.sent,t.next=17,this.client.getContractInstance(e.contractSource,{contractAddress:e.contractAddress});case 17:return this.contractInstance=t.sent,t.abrupt("return",this.contractInstance);case 21:t.prev=21,t.t4=t.catch(0),console.log(t.t4);case 24:case"end":return t.stop()}},t,this,[[0,21]])}));return function(){return t.apply(this,arguments)}}()},{key:"getToDos",value:function(){var t=Object(s.a)(d.a.mark(function t(e){var n,o,a;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.call("get_todos",[]);case 2:return n=t.sent,t.next=5,n.decode();case 5:return o=t.sent,a=this.convertSophiaListToTodos(o),t.abrupt("return",a);case 8:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"convertSophiaListToTodos",value:function(t){var e,n=[];for(var o in t){var a=t[o];e=a[0];var r=this.convertToTODO(a[1]);r.id=e,n.push(r)}return n}},{key:"componentDidMount",value:function(){var t=Object(s.a)(d.a.mark(function t(){var e,n;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getClient();case 2:return e=t.sent,this.props.setClient(e),t.next=6,this.getToDos(e);case 6:n=t.sent,this.props.addManyTodos(n);case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("section",{key:h()(),className:"todoapp"},a.a.createElement("header",{className:"add-todo"},a.a.createElement("input",{className:"new-todo",autoFocus:!0,autoComplete:"off",placeholder:"What needs to be done?",onKeyDown:this.addTodo})),a.a.createElement("section",{key:h()(),className:"main"},a.a.createElement(C,{key:h()(),todos:this.props.todos}))))}}]),n}(o.Component),O=Object(m.b)(function(t){return t},function(t){return{addTodo:function(e){t({type:"ADD_TODO",todo:e})},addManyTodos:function(e){t({type:"ADD_MANY_TODOS",todos:e})},setClient:function(e){t({type:"SET_CLIENT",client:e})}}})(D),k=[{name:"All",type:-1},{name:"Active",type:0},{name:"Completed",type:1}],w=function(t){Object(p.a)(n,t);var e=Object(A.a)(n);function n(){var t;Object(l.a)(this,n);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).getVisibilityType=function(t){return t.target.getAttribute("data-visibility-type")},t.changeVisibility=function(e){e.preventDefault(),t.props.changeVisibility(t.getVisibilityType(e))},t}return Object(u.a)(n,[{key:"render",value:function(){var t=this;this.props.visibility;return a.a.createElement("ul",{className:"filters"},k.map(function(e,n){return a.a.createElement("li",{key:n},a.a.createElement("a",{href:"about:blank","data-visibility-type":e.type,onClick:t.changeVisibility},e.name))}))}}]),n}(o.Component),S=Object(m.b)(function(t){return t},function(t){return{changeVisibility:function(e){t({type:"CHANGE_VISIBILITY",visibility:e})}}})(w),B=function(t){Object(p.a)(n,t);var e=Object(A.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var t=0;return this.props.todos.map(function(e){e.isCompleted===T.ACTIVE&&t++}),a.a.createElement("span",{className:"todo-count"},a.a.createElement("strong",null,t)," ",1===t?"item":"items"," left")}}]),n}(o.Component),I=Object(m.b)(function(t){return t})(B),L=n(134),R=n.n(L),j=function(t){Object(p.a)(n,t);var e=Object(A.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("header",{style:V},a.a.createElement("div",null,a.a.createElement("img",{style:H,src:R.a,alt:"Go to main page"})),a.a.createElement("div",{style:_},"To-Do list vue \xc6pp")))}}]),n}(o.Component),V={height:"56px",display:"flex",flexFlow:"row",justifyContent:"space-between",alignItems:"center",backgroundColor:"#311b58",padding:"0 20px",borderBottom:"solid 1px #F7286E"},_={fontWeight:"bold",fontSize:"22px",color:"white",margin:"0 auto"},H={height:"24px"},N=Object(m.b)(function(t){return t})(j);var P={fontFamily:"Avenir, Helvetica, Arial, sans-serif",WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",textAlign:"center",color:"#2c3e50"},U=function(){return a.a.createElement("div",{style:P},a.a.createElement(N,{key:h()()}),a.a.createElement(O,{key:h()()}),a.a.createElement("footer",{className:"footer"},a.a.createElement(I,{key:h()()}),a.a.createElement(S,{key:h()()})))},x=n(43),Q=n(23),W=n(21),G={client:null,contractDetails:{contractAddress:"YOUR_DEPLOYED_CONTRACT_ADDRESS",contractSource:'contract ToDoManager =\n\n  record todo = {\n    name: string,\n    is_completed: bool}\n\n  record state = {\n    map_user_todos: map(address, map(int, todo)),\n    map_user_todo_count: map(address, int),\n    map_user_todo_id: map(address, int)}\n\n\n  stateful entrypoint init() =\n    { map_user_todos = {},\n      map_user_todo_count = {},\n      map_user_todo_id = {}}\n\n  entrypoint get_todo_count(user: address) : int =\n    Map.lookup_default(user, state.map_user_todo_count, 0)\n\n  private function get_todo_id(user: address) : int =\n    Map.lookup_default(user, state.map_user_todo_id, 0)\n\n  stateful entrypoint add_todo(todo_name: string) : int =\n    let new_todo : todo = {\n      name = todo_name,\n      is_completed = false}\n\n    let count = get_todo_count(Call.caller) + 1\n    let id = get_todo_id(Call.caller) + 1\n\n    put(state{map_user_todos[Call.caller = {}][id] = new_todo})\n    put(state{map_user_todo_count[Call.caller] = count})\n    put(state{map_user_todo_id[Call.caller] = id})\n\n    id\n\n  stateful entrypoint edit_todo_state(todo_id: int, is_completed: bool) =\n\n    let current_todo : todo = get_todo_by_id\'(Call.caller, todo_id)\n    let edited_todo : todo = {\n      name = current_todo.name,\n      is_completed = is_completed}\n\n    put(state{map_user_todos[Call.caller][todo_id] = edited_todo})\n\n  stateful entrypoint edit_todo_name(todo_id: int, todo_name: string) =\n\n    let current_todo : todo = get_todo_by_id\'(Call.caller, todo_id)\n    let edited_todo : todo = {\n      name = todo_name,\n      is_completed = current_todo.is_completed}\n\n    put(state{map_user_todos[Call.caller][todo_id] = edited_todo})\n\n  stateful entrypoint delete_todo(todo_id: int) =\n    let todos: map(int,todo) = Map.lookup_default(Call.caller, state.map_user_todos, {}) // get_todos_by_user(Call.caller)\n    let updated_todos = Map.delete(todo_id, todos)\n\n    put(state{map_user_todos[Call.caller] = updated_todos})\n\n    let count = get_todo_count(Call.caller) - 1\n    put(state{map_user_todo_count[Call.caller] = count})\n\n  entrypoint get_todo_by_id(id: int) : todo =\n    let todos: map(int,todo) = Map.lookup_default(Call.caller, state.map_user_todos, {})\n    let result = switch(Map.lookup(id, todos))\n                    // None => {}\n                    Some(x) => x\n\n    result\n\n  entrypoint get_todos() =\n\n    let user_todos = Map.lookup_default(Call.caller, state.map_user_todos, {})\n    let todos = Map.to_list(user_todos)\n    todos\n\n  private function convert_bool_to_string(expression: bool) : string =\n    switch(expression)\n      true => "true"\n      false => "false"\n\n  private function get_todo_by_id\'(user: address, id: int) : todo =\n    let todos: map(int,todo) = Map.lookup_default(user, state.map_user_todos, {})\n\n    let result = switch(Map.lookup(id, todos))\n                    // None => {}\n                    Some(x) => x\n\n    result'},visibility:T.ALL,todos:[]},Z=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,e=arguments.length>1?arguments[1]:void 0;return"ADD_TODO"===e.type?Object(W.a)({},t,{todos:[].concat(Object(Q.a)(t.todos),[{id:e.todo.id,title:e.todo.title,isCompleted:T.ACTIVE,editable:!1,editedTitle:""}])}):"ADD_MANY_TODOS"===e.type?0===e.todos.length?t:Object(W.a)({},t,{todos:[].concat(Object(Q.a)(t.todos),Object(Q.a)(e.todos))}):"SET_CLIENT"===e.type?Object(W.a)({},t,{client:e.client}):"CHANGE_TODO_STATE"===e.type?(t.todos.map(function(t){t.id===e.todo.id&&(t.isCompleted=e.todo.isCompleted)}),Object(W.a)({},t,{todos:Object(Q.a)(t.todos)})):"SET_EDITABLE_TITLE"===e.type?(t.todos.map(function(t){t.id===e.todo.id&&(t.editable=e.todo.isEditable,e.todo.isEditable?t.editedTitle=e.todo.title:(t.title=e.todo.title,t.editedTitle=""))}),Object(W.a)({},t,{todos:Object(Q.a)(t.todos)})):"DISCARD_TITLE_CHANGES"===e.type?(t.todos.map(function(t){t.id===e.todo.id&&(t.editable=!1,t.editedTitle="")}),Object(W.a)({},t,{todos:Object(Q.a)(t.todos)})):"CHANGE_TODO_TITLE"===e.type?(t.todos.map(function(t){t.id===e.todo.id&&(t.editedTitle=e.todo.title)}),Object(W.a)({},t,{todos:Object(Q.a)(t.todos)})):"CHANGE_VISIBILITY"===e.type?Object(W.a)({},t,{visibility:parseInt(e.visibility)}):t},J=Object(x.b)(Z);i.a.render(a.a.createElement(m.a,{store:J},a.a.createElement(U,null)),document.getElementById("root"))},97:function(t,e){}},[[135,1,2]]]);
//# sourceMappingURL=main.e8a6426e.chunk.js.map